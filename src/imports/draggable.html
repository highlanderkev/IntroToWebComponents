<link rel="import" href="/bower_components/polymer/polymer.html">
<dom-module name="p-drag">
    <template>
        <div id="drag" class="draggable" draggable="true" on-dragstart="startDrag" on-track="handleTrack">
            <content></content>
            </div>
        </div>
    </template>

    <script>
        (function (document, Polymer) {
            "use strict";

            Polymer({
                is: "p-drag",
                listeners: {
                    "drag.on-dragstart": "startDrag",
                    "drag.on-track": "handleTrack"
                },
                startDrag: function(event){
                    console.log("startDrag");
                    event.dataTransfer.setData("text", event.target.id);
                },
                handleTrack: function(e){
                    switch(e.detail.state){
                        case "start":
                            console.log("Tracking started!");
                            break;
                        case "track":
                            console.log("Tracking in progress..." + e.detail.x + "," + e.detail.y);
                            break
                        case "end":
                            console.log("Tracking ended!");
                            break;
                    }
                },
            });
        })(document, Polymer);
    </script>
</dom-module>
<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/node_modules/bosonic-core-elements/src/b-draggable.html">
<dom-module name="p-drag">
    <template>
        <!--<b-draggable id="draggable" handle=".draggable" target=".draggable" draggable="true" ondragstart="{{startDrag}}">-->
                <div id="drag" class="draggable" draggable="true" on-dragstart="startDrag" on-track="handleTrack">
                    <content></content>
                    {{message}}
                </div>
            </div>
        <!--</b-draggable>-->
    </template>

    <script>
        (function (document, Polymer) {
            "use strict";

            Polymer({
                is: "p-drag",
                listeners: {
                    "drag.on-dragstart": "startDrag"
                },
                startDrag: function(event){
                    console.log("startDrag");
                    event.dataTransfer.setData("text", event.target.id);
                },
                handleTrack: function(e){
                    switch(e.detail.state){
                        case "start":
                            this.message = "Tracking started!";
                            break;
                        case "track":
                            this.message = "Tracking in progress..." + e.detail.x + "," + e.detail.y;
                            break
                        case "end":
                            this.message = "Tracking ended!";
                            break;
                    }
                },
            });
        })(document, Polymer);
    </script>
</dom-module>